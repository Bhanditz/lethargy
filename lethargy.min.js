"use strict";function _classCallCheck(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function range(t,s){for(var a=[],e=t<s,i=e?s+1:s-1,l=t;e?l<i:l>i;e?l+=1:l-=1)a.push(l);return a}var _createClass=function(){function t(t,s){for(var a=0;a<s.length;a++){var e=s[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(s,a,e){return a&&t(s.prototype,a),e&&t(s,e),s}}(),Lethargy=function(){function t(s,a,e,i){_classCallCheck(this,t),this.stability=null!=s?Math.abs(s):8,this.sensitivity=null!=a?1+Math.abs(a):100,this.tolerance=null!=e?1+Math.abs(e):1.1,this.delay=null!=i?i:150,this.lastUpDeltas=range(1,2*this.stability).map(function(){return null}),this.lastDownDeltas=range(1,2*this.stability).map(function(){return null}),this.deltasTimestamp=range(1,2*this.stability).map(function(){return null})}return _createClass(t,[{key:"check",value:function(t){var s=void 0,a=t.originalEvent||t;return null!=a.wheelDelta?s=a.wheelDelta:null!=a.deltaY?s=-40*a.deltaY:null==a.detail&&0!==a.detail||(s=-40*a.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),s>0?(this.lastUpDeltas.push(s),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(s),this.lastDownDeltas.shift(),this.isInertia(-1))}},{key:"isInertia",value:function(t){var s=-1===t?this.lastDownDeltas:this.lastUpDeltas;if(null===s[0])return t;if(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&s[0]===s[2*this.stability-1])return!1;var a=s.slice(0,this.stability),e=s.slice(this.stability,2*this.stability),i=a.reduce(function(t,s){return t+s}),l=e.reduce(function(t,s){return t+s}),n=i/a.length,r=l/e.length;return Math.abs(n)<Math.abs(r*this.tolerance)&&this.sensitivity<Math.abs(r)&&t}},{key:"showLastUpDeltas",value:function(){return this.lastUpDeltas}},{key:"showLastDownDeltas",value:function(){return this.lastDownDeltas}}]),t}();